<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>ActionManager test</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="scripts/App4Sea.ActionManager.js" type="text/javascript" ></script>
        <script type="text/javascript">
            
            
            //example object for using the dispatcher
            //usually there is only one target for given action name
            //if multiple targets are needed use the Listener pattern
            var App4Sea = App4Sea || {}; 
            App4Sea.ActionObject = (function(options){
                "use strict";
                var that = {};
                
                
                // foo1 and foo2 are only accessible through action manager
                var foo1 = function(text){
                    console.log("You called action function foo2 with parameter :"+text);
                };

                var foo2 = function(obj){
                    console.log("You called action function foo2 with parameter object:"+obj);
                }; 
                
                // foo3 is exposed
                var foo3 = function(){
                    console.log("You called exposed foo3 function");
                };
                
                that.Foo = foo3;
                
                if(App4Sea.ActionManager){
                    // register both functions
                    
                    //ACTION : App4Sea.ActionTarget.Foo1
                    App4Sea.ActionManager.Add("App4Sea.ActionTarget.Foo1",foo1);
                     //ACTION : App4Sea.ActionTarget.Foo2
                    App4Sea.ActionManager.Add("App4Sea.ActionTarget.Foo2",foo2);                   
                }
                
                return that;
                
            })();
            

            
            //now you can call all instances of this 
            App4Sea.ActionManager.Call("App4Sea.ActionTarget.Foo1","hello");
            App4Sea.ActionManager.Call("App4Sea.ActionTarget.Foo2",{key:"key","value":"Value"});
            App4Sea.ActionManager.Call("App4Sea.ActionTarget.Foo3",{});
            
            
            App4Sea.ActionObject.Foo();
            
        </script>
    </head>
    <body>
        <div>Testing ActionDispatcher</div>
    </body>
</html>

<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"
   >
<html>
    <head>
        <title>App4Sea</title>
        
        <link rel="icon" href="favicon.ico"/>        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ol3/3.10.1/ol.min.js" type="text/javascript"></script>
        
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>        
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>

        <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet"/> 

        <script src="jquery/jquery-3.2.1.min.js" type="text/javascript"></script>

        <link href="jquery/jquery-ui.min.css" rel="stylesheet" type="text/css"/>
        <script src="jquery/jquery-ui.min.js" type="text/javascript"></script>

        <link href="jquery/jquery.growl.css" rel="stylesheet" type="text/css" />
        <script src="jquery/jquery.growl.js" type="text/javascript"></script>

        <script src="static/js/mustache.js" type="text/javascript"></script>
        
        <!-- https://medialize.github.io/URI.js/ -->
        <script src="static/js/URI.js" type="text/javascript"></script>
        <!-- https://github.com/webcomponents/webcomponentsjs/ -->
        <script src="static/js/webcomponents-bundle.js" type="text/javascript"></script>

        <script src="static/js/qwest.min.js" type="text/javascript"></script>
        <script src="static/js/zip.js" type="text/javascript"></script>
        <script src="static/js/cors-public.js" type="text/javascript"></script>
        
        <link href="css/main.css" rel="stylesheet" type="text/css" />

        <script type="text/javascript">
            "use strict";

            $(document).ready(function () {

                $(".MenuItem").click(function () {
                    var url = $(this).attr("data-url");
                    var target = $(this).attr("data-target");
                    window.open(url, target);
                });
            });

            // https://hibbard.eu/display-ui-blocking-overlay-on-page-load/
            $(window).on('load', function() {
                $.fn.center = function () {
                  this.css("position", "absolute");
                  this.css("top", Math.max(0, (
                    ($(window).height() - $(this).outerHeight()) / 2) + 
                     $(window).scrollTop()) + "px"
                  );
                  this.css("left", Math.max(0, (
                    ($(window).width() - $(this).outerWidth()) / 2) + 
                     $(window).scrollLeft()) + "px"
                  );
                  return this;
                }

                $("#overlay").show();
                $("#overlay-content").show().center();

                setTimeout(function(){    
                  $("#overlay").fadeOut();
                }, 100);
            });
        </script>


        <!-- OpenLayers begin -->
        <link rel="stylesheet" href="https://openlayers.org/en/v4.6.4/css/ol.css" type="text/css"/>
        <script src="https://openlayers.org/en/v4.6.4/build/ol.js" type="text/javascript"></script>
        <script src="scripts/App4Sea.KmzHandler.js" type="text/javascript"></script>
        <script src="scripts/App4Sea.Map.OpenLayers.js" type="text/javascript"></script>
        <!-- OpenLayers end -->

        <!-- The line below is only needed for old environments like Internet Explorer and Android 4.x -->
        <!-- This will not work anyway in IE. And it will render coordinates for kml files as 0,0 -->
        <!--script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=requestAnimationFrame,Element.prototype.classList,URL"></script>
        <script src="https://openlayers.org/en/v4.6.5/build/ol.js"></script-->

        <link rel="stylesheet" href="static/js/dist/themes/default/style.min.css" />
        <script src="static/js/dist/jstree.min.js" type="text/javascript"></script>
        
        
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>

        <!-- Optional theme -->
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"/>

        <!-- Latest compiled and minified JavaScript -->
        <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" type="text/javascript"></script>

        <script id="RescueSite" type="text/template">
            <div>
                <h3>{{name}}</h3>
                <p>{{address}}</p>
                <p>{{region}}</p>
                <p>{{region2}}</p>
                <p>{{region3}}</p>
                <p>{{region4}}</p>
                <p>{{{link}}}</p>
            </div>
        </script>
        <script id="DefaultPop" type="text/template">
            <div>
                {{description}}
            </div>
        </script>

        <style>

          #ToolTipInfo {
            position: absolute;
            height: 1px;
            width: 1px;
            z-index: 100;
          }
          .tooltip.in {
            opacity: 1;
            filter: alpha(opacity=100);
          }
          .tooltip.top .tooltip-arrow {
            border-top-color: white;
          }
          .tooltip-inner {
            border: 2px solid white;
          }

            #overlay{
                display: none;
                position: fixed;
                top: 0%;
                left: 0%;
                width: 100%;
                height: 100%;
                background-color: black;
                opacity: 0.8;
                z-index:10001;
            }

            #overlay-content{ 
                position: absolute;
                display: none;
                width: 80%;
                padding: 0px;
                border: 0px white;
                background-color: white;
                opacity: 1.0;
                z-index:10002;
            }        

          .ol-popup {
            position: absolute;
            background-color: white;
            -webkit-filter: drop-shadow(0 1px 4px rgba(0,0,0,0.2));
            filter: drop-shadow(0 1px 4px rgba(0,0,0,0.2));
            padding: 25px;
            border-radius: 10px;
            border: 1px solid #cccccc;
            bottom: 12px;
            left: -50px;
            min-width: 280px;
          }
          .ol-popup:after, .ol-popup:before {
            top: 100%;
            border: solid transparent;
            content: " ";
            height: 0;
            width: 0;
            position: absolute;
            pointer-events: none;
          }
          .ol-popup:after {
            border-top-color: white;
            border-width: 10px;
            left: 48px;
            margin-left: -10px;
          }
          .ol-popup:before {
            border-top-color: #cccccc;
            border-width: 11px;
            left: 48px;
            margin-left: -11px;
          }
          .ol-popup-closer {
            text-decoration: none;
            position: absolute;
            top: 2px;
            right: 8px;
          }
          .ol-mouse-position {
            right: 4.5em;
          }
          .ol-scale-line {
            left: 14.5em;
          }



          input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            margin: 4px 0;
          }
          input[type=range]:focus {
            outline: none;
          }
          input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 2px;
            cursor: pointer;
            box-shadow: 0px 0px 0px rgba(0, 0, 0, 0.5), 0px 0px 0px rgba(13, 13, 13, 0.5);
            background: #000000;
            border-radius: 0px;
            border: 0px solid #ffffff;
          }
          input[type=range]::-webkit-slider-thumb {
            box-shadow: 2.3px 2.3px 7.5px #000000, 0px 0px 2.3px #0d0d0d;
            border: 0px solid #000000;
            height: 10px;
            width: 5px;
            border-radius: 0px;
            background: #ffc864;
            cursor: pointer;
            -webkit-appearance: none;
            margin-top: -4px;
          }
          input[type=range]:focus::-webkit-slider-runnable-track {
            background: #000000;
          }
          input[type=range]::-moz-range-track {
            width: 100%;
            height: 2px;
            cursor: pointer;
            box-shadow: 0px 0px 0px rgba(0, 0, 0, 0.5), 0px 0px 0px rgba(13, 13, 13, 0.5);
            background: #000000;
            border-radius: 0px;
            border: 0px solid #ffffff;
          }
          input[type=range]::-moz-range-thumb {
            box-shadow: 2.3px 2.3px 7.5px #000000, 0px 0px 2.3px #0d0d0d;
            border: 0px solid #000000;
            height: 10px;
            width: 10px;
            border-radius: 0px;
            background: #ffc864;
            cursor: pointer;
          }
          input[type=range]::-ms-track {
            width: 100%;
            height: 2px;
            cursor: pointer;
            background: transparent;
            border-color: transparent;
            color: transparent;
          }
          input[type=range]::-ms-fill-lower {
            background: #000000;
            border: 0px solid #ffffff;
            border-radius: 0px;
            box-shadow: 0px 0px 0px rgba(0, 0, 0, 0.5), 0px 0px 0px rgba(13, 13, 13, 0.5);
          }
          input[type=range]::-ms-fill-upper {
            background: #000000;
            border: 0px solid #ffffff;
            border-radius: 0px;
            box-shadow: 0px 0px 0px rgba(0, 0, 0, 0.5), 0px 0px 0px rgba(13, 13, 13, 0.5);
          }
          input[type=range]::-ms-thumb {
            box-shadow: 2.3px 2.3px 7.5px #000000, 0px 0px 2.3px #0d0d0d;
            border: 0px solid #000000;
            height: 10px;
            width: 10px;
            border-radius: 0px;
            background: #ffc864;
            cursor: pointer;
            height: 2px;
          }
          input[type=range]:focus::-ms-fill-lower {
            background: #000000;
          }
          input[type=range]:focus::-ms-fill-upper {
            background: #000000;
          }

        </style>
    <!--
      .ol-popup-closer:after {
        content: "✖";
      }
    -->
    </head>
    
    <body>
        <!-- Splash overlay -->
        <div id="overlay">
            <div id="overlay-content">
                <img src="data/PosterHor.jpg" alt="App4Sea is an NPA-project" style="width:100%;" />
            </div>
        </div>
        
        <!-- This is the left side menu container -->
        <div id="MenuContainer"> 
            <!--div>
                <a href="http://app4sea.interreg-npa.eu">
                    <img src="data/App4SeaWhite.jpg" alt="App4Sea is an NPA-project" style="width:100%;"/>
                </a>
            </div-->
            
            <div class="MenuSection" style="color: red">
                This site currently works best in the Chrome and Vivaldi browsers.<br/>
            </div>
            
            <h4>Layers</h4>
            <div id="MenuTree" class="MenuSection"></div>
            
            <h4>Further information</h4>
            <div id="InfoTree" class="MenuSection"></div>

            <h4>Base map</h4>
            <div class="MenuSection">
                <select id="MenuLayer_Select" >
                    <option value="esriWSPTileLayer">ESRI World Street Map</option>
                    <option value="esriWITileLayer">ESRI World Imagery Map</option>
                    <option value="osmTileLayer">Open Street Map</option>
                </select>
            </div>

            <h4>Animation</h4>
            <div class="MenuSection" style="background-color: grey">
                <div style="font-size:0.6em; color:white">
                    <form>
                        <table width="100%">
                            <!--tr style="text-align:center">
                                <td colspan="4">
                                    <span id="title">title</span>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <button id="playStop" type="button" style="font-size:0.5em; color: Grey;">Play</button>
                                </td>
                                <td colspan="3">
                                    <input id="progress" type="range" min="0" max="99" step="1" value="0"/>
                                </td>
                            </tr>
                            <tr>
                                <td width="25%">
                                </td>
                                <td width="25%">
                                    <span id="startDate">start</span><br/>
                                    <span id="start">start</span>
                                </td>
                                <td width="25%" style="text-align:center">
                                    <span id="currentDate">current</span><br/>
                                    <span id="current">current</span>
                                </td>
                                <td width="25%" style="text-align:right">
                                    <span id="endDate">end</span><br/>
                                    <span id="end">end</span>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="4">
                                    <br/>
                                </td>
                            </tr-->
                            <tr>
                                <td style="text-align:right">
                                    <label>Radius Size</label>
                                </td>
                                <td>
                                    <input id="radius" type="range" min="1" max="50" step="1" value="5"/>
                                </td>
                                <td style="text-align:right">
                                    <label>Blur Size</label>
                                </td>
                                <td>
                                    <input id="blur" type="range" min="1" max="50" step="1" value="15"/>
                                </td>
                            </tr>
                        </table>
                    </form>
                </div>

                <div role="group" aria-label="Animation controls" >
                    <div id="popup" class="ol-popup">
                        <a href="#" id="popup-closer" class="ol-popup-closer"></a>
                        <div id="popup-content"></div>
                    </div>
                </div>
            </div>
        </div>


        <!-- This is the main map container. It is populated in code -->
        <div id="MapContainer">
            <!-- This is the tool-tip container. It is populated in code -->
            <div id="ToolTipInfo"></div>            
            <img id="photo" style="display:none"/>
        </div>

        <!-- This is the debug window container that should be hidden in final application. It is populated in code  -->
        <div id="DebugWindow" style="display:none;"></div>
        
        <script>
            var info = $("#ToolTipInfo");
            
            info.tooltip('hide');
            info.tooltip({
                animation: false,
                trigger: 'manual'
            });            
        </script>

    </body>
</html>
